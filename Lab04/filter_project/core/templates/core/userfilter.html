<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>موسوعة فلاتر جانغو</title>
    <style>
      body {
        font-family: sans-serif;
        margin: 2em;
        background-color: #f8f9fa;
        color: #343a40;
      }
      .container {
        max-width: 900px;
        margin: auto;
      }
      h1,
      h2,
      h3 {
        color: #0056b3;
      }
      .section {
        background-color: white;
        padding: 20px;
        margin-bottom: 25px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }
      code {
        background-color: #e9ecef;
        padding: 2px 6px;
        border-radius: 4px;
        color: #c7254e;
      }
      strong {
        color: #28a745;
      }
      textarea {
        width: 98%;
        min-height: 120px;
        padding: 10px;
        font-size: 1.1em;
        border: 1px solid #ced4da;
        border-radius: 4px;
        margin-bottom: 20px;
      }
      .buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .buttons button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
      }
      .buttons button:hover {
        background-color: #0056b3;
      }
      #result-box {
        margin-top: 20px;
        padding: 15px;
        background-color: #e9f7ef;
        border: 1px solid #d6e9c6;
        border-radius: 4px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }
      th,
      td {
        border: 1px solid #dee2e6;
        padding: 8px;
        text-align: right;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>موسوعة فلاتر جانغو (DTL Filters)</h1>

      <div class="section">
        <h2>القسم التفاعلي (فلاتر النصوص)</h2>
        <p>أدخل أي نص (يمكن أن يحتوي على HTML) وجرب الأزرار.</p>
        <form method="POST">
          {% csrf_token %}
          <textarea name="user_text" placeholder="اكتب نصك هنا...">
{{ original_text }}</textarea
          >
          <div class="buttons">
            <button type="submit" name="filter_type" value="upper">
              UPPER
            </button>
            <button type="submit" name="filter_type" value="lower">
              lower
            </button>
            <button type="submit" name="filter_type" value="title">
              Title Case
            </button>
            <button type="submit" name="filter_type" value="capfirst">
              Capfirst
            </button>
            <button type="submit" name="filter_type" value="slugify">
              slugify
            </button>
            <button type="submit" name="filter_type" value="length">
              length
            </button>
            <button type="submit" name="filter_type" value="wordcount">
              wordcount
            </button>
            <button type="submit" name="filter_type" value="truncatewords">
              truncatewords (4)
            </button>
            <button type="submit" name="filter_type" value="truncatechars">
              truncatechars (15)
            </button>
            <button type="submit" name="filter_type" value="striptags">
              striptags
            </button>
            <button type="submit" name="filter_type" value="linebreaks">
              linebreaks
            </button>
          </div>
        </form>
        {% if result %}
        <div id="result-box">
          <h3>النتيجة:</h3>
          <p><code>{{ result }}</code></p>
        </div>
        {% endif %}
      </div>

      <div class="section">
        <h2>قسم العرض (للفلاتر المتخصصة)</h2>

        <h3>فلاتر التاريخ والوقت</h3>
        <p>التاريخ الحالي: <code>{{ today }}</code></p>
        <table>
          <tr>
            <th>الفلتر</th>
            <th>النتيجة</th>
          </tr>
          <tr>
            <td><code>today|date:"D, d M Y" }</code></td>
            <td><strong>{{ today|date:"D, d M Y" }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ today|time:"H:i:s" }}</code></td>
            <td><strong>{{ today|time:"H:i:s" }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ past_date|timesince }}</code> (منذ)</td>
            <td><strong>{{ past_date|timesince }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ future_date|timeuntil }}</code> (حتى)</td>
            <td><strong>{{ future_date|timeuntil }}</strong></td>
          </tr>
        </table>

        <h3>فلاتر القوائم (Lists)</h3>
        <p>القائمة: <code>{{ my_list }}</code></p>
        <table>
          <tr>
            <th>الفلتر</th>
            <th>النتيجة</th>
          </tr>
          <tr>
            <td><code>{{ my_list|first }}</code></td>
            <td><strong>{{ my_list|first }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ my_list|last }}</code></td>
            <td><strong>{{ my_list|last }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ my_list|join:", " }}</code></td>
            <td><strong>{{ my_list|join:", " }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ my_list|random }}</code></td>
            <td><strong>{{ my_list|random }}</strong></td>
          </tr>
        </table>

        <h3>فلاتر الأرقام</h3>
        <p>الرقم: <code>{{ file_size_in_bytes }}</code></p>
        <table>
          <tr>
            <th>الفلتر</th>
            <th>النتيجة</th>
          </tr>
          <tr>
            <td><code>{{ file_size_in_bytes|filesizeformat }}</code></td>
            <td><strong>{{ file_size_in_bytes|filesizeformat }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ my_number|floatformat:3 }}</code></td>
            <td><strong>{{ my_number|floatformat:3 }}</strong></td>
          </tr>
        </table>

        <h3>فلاتر منطقية وأمان</h3>
        <table>
          <tr>
            <th>الفلتر</th>
            <th>النتيجة</th>
          </tr>
          <tr>
            <td><code>{{ empty_variable|default:"القيمة فارغة" }}</code></td>
            <td>
              <strong>{{ empty_variable|default:"القيمة فارغة" }}</strong>
            </td>
          </tr>
          <tr>
            <td><code>{{ is_happy|yesno:"نعم,لا,ربما" }}</code></td>
            <td><strong>{{ is_happy|yesno:"نعم,لا,ربما" }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ is_sad|yesno:"نعم,لا,ربما" }}</code></td>
            <td><strong>{{ is_sad|yesno:"نعم,لا,ربما" }}</strong></td>
          </tr>
          <tr>
            <td><code>{{ is_unknown|yesno:"نعم,لا,ربما" }}</code></td>
            <td><strong>{{ is_unknown|yesno:"نعم,لا,ربما" }}</strong></td>
          </tr>
          <tr>
            <td>عرض <code>{{ html_string|escape }}</code> (آمن)</td>
            <td><strong>{{ html_string|escape }}</strong></td>
          </tr>
          <tr>
            <td>عرض <code>{{ html_string|safe }}</code> (غير آمن)</td>
            <td><strong>{{ html_string|safe }}</strong></td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
